From: Debian MongoDB Maintainers
 <pkg-mongodb-maintainers@lists.alioth.debian.org>
Date: Thu, 12 Sep 2019 01:29:31 +0200
Subject: hardened-build

---
 SConstruct | 5 +++++
 1 file changed, 5 insertions(+)

diff --git a/SConstruct b/SConstruct
index b2d2f53..a1c8dd7 100644
--- a/SConstruct
+++ b/SConstruct
@@ -846,6 +846,11 @@ envDict = dict(BUILD_ROOT=buildDir,
                INSTALL_DIR=installDir,
                CONFIG_HEADER_DEFINES={},
                LIBDEPS_TAG_EXPANSIONS=[],
+
+               CFLAGS=os.environ.get("CFLAGS", "-O3").split(),
+               CXXFLAGS=os.environ.get("CXXFLAGS", "-O3").split(),
+               CPPFLAGS=os.environ.get("CPPFLAGS", "").split(),
+               LINKFLAGS=os.environ.get("LDFLAGS", "").split(),
                )
 
 env = Environment(variables=env_vars, **envDict)
